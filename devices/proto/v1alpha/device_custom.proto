syntax = "proto3";

package ntt.devices.v1alpha;

import "edgelq-sdk/common/api/credentials.proto";
import "edgelq-sdk/devices/proto/v1alpha/device.proto";

option go_package = "github.com/cloudwan/edgelq-sdk/devices/client/v1alpha/device;device_client";
option java_multiple_files = false;
option java_outer_classname = "DeviceCustomProto";
option java_package = "com.ntt.devices.pb.v1alpha";

// Request message for method
// [ProvisionServiceAccountToDevice][ntt.devices.v1alpha.ProvisionServiceAccountToDevice]
message ProvisionServiceAccountToDeviceRequest {
  // Name of Device to provision service account.
  // This method automatically generates a service account and a key for the
  // device and assign the key to .Spec.ServiceAccount
  string name = 1;
}

// Response message for method
// [ProvisionServiceAccountToDevice][ntt.devices.v1alpha.ProvisionServiceAccountToDevice]
message ProvisionServiceAccountToDeviceResponse {
  // The service account generated by the endpoint. Save the private key
  // included.
  ntt.api.ServiceAccount service_account = 1;
}

// Request message for method
// [RemoveServiceAccountFromDevice][ntt.devices.v1alpha.RemoveServiceAccountFromDevice]
message RemoveServiceAccountFromDeviceRequest {
  // Name of the Device to remove its service account
  // The service account and the key will be automatically deleted as well when
  // they have been generated automatically by `ProvisionServiceAccountToDevice`
  // action. Otherwise, the service account will be kept intact. The device will
  // lost the access to the resources in the project.
  string name = 1;
}

// Response message for method
// [RemoveServiceAccountFromDevice][ntt.devices.v1alpha.RemoveServiceAccountFromDevice]
message RemoveServiceAccountFromDeviceResponse {}
